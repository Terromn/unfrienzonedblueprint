---
import PurchaseForm from '../components/PurchaseForm.tsx';

const bonuses = [
  {
    title: "30-Day Action Plan",
    description: "Step-by-step daily tasks to implement everything you learn",
    value: "$97",
    icon: "üìã"
  },
  {
    title: "Text Message Templates",
    description: "100+ proven messages that get responses every time",
    value: "$67",
    icon: "üí¨"
  },
  {
    title: "Confidence Masterclass",
    description: "Video course on building unshakeable confidence",
    value: "$197",
    icon: "üéØ"
  },
  {
    title: "Private Community Access",
    description: "Join our exclusive brotherhood of successful men",
    value: "$297",
    icon: "üë•"
  }
];

const totalValue = 197 + 97 + 67 + 197 + 297; // $855

// Placeholder for logging functions - will be properly implemented later
const handlePurchaseSuccess = (data: { email: string; fullName: string }) => {
  console.log('Purchase successful logged from Astro!', data);
};

const handlePurchaseError = (error: Error) => {
  console.error('Purchase error logged from Astro!', error);
};
---

<section id="purchase" class="section-padding bg-gradient-to-br from-primary-600 to-secondary-500 dark:from-blue-dark dark:to-slate-900 text-white">
  <div class="container-custom">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-display font-bold mb-6">
        Get the Complete <span class="text-yellow-300">Unfriendzoned Blueprint</span>
      </h2>
      <p class="text-xl opacity-90 max-w-3xl mx-auto">
        Everything you need to transform your dating life and never get friendzoned again
      </p>
    </div>
    
    <div class="grid lg:grid-cols-2 gap-12 items-start">
      <!-- Main Product -->
      <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20">
        <div class="text-center mb-8">
          <div class="inline-flex items-center bg-yellow-400 text-blue-dark px-4 py-2 rounded-full text-sm font-bold mb-4">
            üìö MAIN PRODUCT
          </div>
          <h3 class="text-2xl font-bold mb-4">The Unfriendzoned Blueprint</h3>
          <p class="opacity-90 mb-6">
            The complete 147-page guide that reveals the psychology of attraction and how to escape the friend zone forever.
          </p>
          
          <!-- What's Included -->
          <div class="text-left space-y-3 mb-8">
            <div class="flex items-start">
              <svg class="w-5 h-5 text-yellow-400 mr-3 mt-1 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              <span>The 7 Fatal Friend Zone Mistakes (and how to avoid them)</span>
            </div>
            <div class="flex items-start">
              <svg class="w-5 h-5 text-yellow-400 mr-3 mt-1 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              <span>The Attraction Triggers that create instant chemistry</span>
            </div>
            <div class="flex items-start">
              <svg class="w-5 h-5 text-yellow-400 mr-3 mt-1 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              <span>The Friend Zone Escape Protocol (step-by-step)</span>
            </div>
            <div class="flex items-start">
              <svg class="w-5 h-5 text-yellow-400 mr-3 mt-1 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              <span>Body language secrets that communicate confidence</span>
            </div>
            <div class="flex items-start">
              <svg class="w-5 h-5 text-yellow-400 mr-3 mt-1 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              <span>The Perfect Date Formula that guarantees a second date</span>
            </div>
          </div>
          
          <div class="text-center">
            <div class="text-3xl font-bold mb-2">Value: $197</div>
          </div>
        </div>
      </div>
      
      <!-- Bonuses -->
      <div class="space-y-6">
        <div class="text-center mb-8">
          <div class="inline-flex items-center bg-green-400 text-green-900 px-4 py-2 rounded-full text-sm font-bold mb-4">
            üéÅ FREE BONUSES
          </div>
          <h3 class="text-xl font-bold">When you order today, you also get:</h3>
        </div>
        
        {bonuses.map((bonus) => (
          <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20">
            <div class="flex items-start">
              <div class="text-3xl mr-4">{bonus.icon}</div>
              <div class="flex-1">
                <h4 class="text-lg font-bold mb-2">{bonus.title}</h4>
                <p class="opacity-90 text-sm mb-3">{bonus.description}</p>
                <div class="text-yellow-400 font-bold">{bonus.value} Value</div>
              </div>
            </div>
          </div>
        ))}
        
        <!-- Total Value -->
        <div class="bg-yellow-400 text-blue-dark rounded-xl p-6 text-center">
          <div class="text-sm font-semibold mb-2">TOTAL VALUE</div>
          <div class="text-3xl font-bold line-through opacity-60">${totalValue}</div>
          <div class="text-xs opacity-60 mb-4">If purchased separately</div>
          
          <div class="text-4xl font-bold mb-2">Only $47</div>
          <div class="text-sm font-semibold">76% OFF - Limited Time</div>
        </div>
      </div>
    </div>
    
    <!-- Purchase Form -->
    <div class="max-w-md mx-auto mt-16">
      <PurchaseForm client:visible onPurchaseSuccess={handlePurchaseSuccess} onPurchaseError={handlePurchaseError} />
    </div>
    
    <!-- Urgency -->
    <div class="text-center mt-12">
      <div class="inline-flex items-center bg-red-500 text-white px-6 py-3 rounded-full">
        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
        </svg>
        ‚ö° Special price ends in 24 hours
      </div>
    </div>
  </div>
</section> 